# I-Ching
I-CHING package(Python周易占卜)

 I-CHING package

 by  https://github.com/SHMoney2021


 周易蓍草占卜过程：

    大衍之数五十，其用四十有九。分而为二以象两，挂一以象三，揲之以四以象四时，归奇于扐以象闰；
    五岁再闰，故再扐而后挂。天数五，地数五。五位相得而各有合。天数二十有五，地数三十，凡天地之数五十有五。
    此所以成变化而行鬼神也。乾之策二百一十有六，坤之策百四十有四，凡三百有六十，当期之日。
    二篇之策，万有一千五百二十，当万物之数也。是故四营而成《易》，十有八变而成卦，八卦而小成。
    引而伸之，触类而长之，天下之能事毕矣。显道神德行，是故可与酬酢，可与祐神矣。
    子曰：“知变化之道者，其知神之所为乎？”

 解析：

    三变得一爻，十八变得一卦，为本卦，本卦老阳老阴爻变得到变卦，本卦+变卦即为占卜结果
    得到一爻的过程：(50 - 1) - [5, 9] - [4, 8] - [4, 8] = [24, 28, 32, 36]
 
本代码占卜流程示例(泰 之 颐)：

    1. 按初爻到上爻顺序算得本卦 [7, 9, 9, 8, 8, 6]，从而变卦为 [7, 6, 6, 8, 8, 9]
    2. 本卦变换为字符串'111000'，外卦'000'为地， 内卦'111'为天，查表'111000'得到本卦卦名 '泰'
    3. 变卦变换为字符串'100001'，外卦'001'为山， 内卦'100'为雷，查表'100001'得到变卦卦名 '颐'
    4. 因此占卜结果为：泰 之 颐
    5. 根据变爻选择判词(7种情况之一)
todo list:

    1. 添加卦爻辞
    2. 根据本卦变卦选择占卜结果判词
    3. 图形化占卜过程（动态图像显示蓍草占卜全过程）
    4. 优化数据结构
    5. 添加通过网络展示功能


 Turtle图形显示：

![image](https://github.com/SHMoney2021/I-Ching/blob/main/output-turtle.png)


 shell output:

     D:\python\python.exe D:I-Ching/IChing.py
     ['110011', '风泽', '中孚']
     ['110000', '地泽', '临']
     ['中孚 之 临', '']
     -------TEST-------
     After 10000 times & 0.29383400 seconds, the result is:
     Counter({'讼': 188, '渐': 180, '遯': 173, '泰': 172, '鼎': 171, '困': 171, '家人': 169, '明夷': 169, '观': 169, '蹇': 169, '巽': 168, '蛊': 168, '大过': 167, '履': 167, '小畜': 166, '小过': 166, '井': 166, '坎': 165, '坤': 165, '豫': 164, '恒': 162, '复': 161, '姤': 161, '损': 161, '噬磕': 161, '夬': 159, '乾': 159, '颐': 159, '兑': 159, '谦': 159, '艮': 159, '否': 158, '震': 157, '咸': 157, '升': 156, '萃': 155, '未济': 155, '丰': 154, '屯': 154, '随': 153, '同人': 152, '中孚': 151, '归妹': 151, '需': 150, '大畜': 150, '睽': 149, '革': 149, '临': 148, '师': 148, '离': 148, '解': 148, '节': 145, '比': 145, '涣': 143, '贲': 142, '剥': 142, '晋': 141, '蒙': 140, '既济': 139, '益': 139, '大壮': 136, '大有': 135, '无妄': 134, '旅': 123})
     From the result, mean=156.25, std=12.15, std/mean=0.08
     -----TEST END-----





